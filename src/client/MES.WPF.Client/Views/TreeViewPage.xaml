<Page x:Class="MES.WPF.Client.Views.TreeViewPage"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MES.WPF.Client" 
        xmlns:syncfusion="http://schemas.syncfusion.com/wpf"
        mc:Ignorable="d"
        Title="MainWindow" Height="625" Width="500">
		<Page.DataContext>
        <local:TreeViewViewModel/>
		</Page.DataContext>
		<Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <syncfusion:SfTreeView x:Name="sfTreeView" 
                               Grid.Row="1"
                               ChildPropertyName="SubFiles"
                               AllowDeleting="True"
                               ShowLines="True"
                               ShowRootLines="True"
                               NodePopulationMode="Instant"
                               AllowDragging="True"
									AllowDrop="True"
                               ItemHeight="30"
                               IsAnimationEnabled="True"
                               AutoExpandMode="AllNodes" 
                               SelectionMode="Extended" 
                               CheckBoxMode="Recursive"
                               ItemTemplateDataContextType="Node"
                               CheckedItems="{Binding CheckedFileName}"
                               FocusVisualStyle="{x:Null}"
                               ScrollViewer.HorizontalScrollBarVisibility="Auto" 
                               ItemsSource="{Binding ImageNodeInfo}">
            <syncfusion:SfTreeView.ItemTemplate>
                <DataTemplate>
                    <Grid x:Name="grid">
                        <Grid Grid.Row="0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid>
                                <StackPanel Orientation="Horizontal" >
                                    <CheckBox x:Name="CheckBox" FocusVisualStyle="{x:Null}"
                                             IsChecked="{Binding IsChecked , Mode=TwoWay , UpdateSourceTrigger=PropertyChanged}"/>
                                    <Image Source="{Binding Content.ImageIcon}"
                                          VerticalAlignment="Center"
                                          HorizontalAlignment="Center"
                                          Height="16"
                                          Width="26"/>
                                </StackPanel>
                            </Grid>
                            <Grid Grid.Column="1"
                                              Margin="1,0,0,0"
                                              VerticalAlignment="Center">
                                <TextBlock Text="{Binding Content.ItemName}"
                                                   FontSize="14"
                                                   VerticalAlignment="Center" >
                                </TextBlock>
                            </Grid>
                        </Grid>
                    </Grid>
                </DataTemplate>
            </syncfusion:SfTreeView.ItemTemplate>
            <syncfusion:SfTreeView.EditTemplate>
                <DataTemplate>
                    <TextBox Text="{Binding Content. ItemName}" 
					 VerticalContentAlignment="Center" 
                     Margin="-4,0,-4,0"
                     Height="{Binding ItemHeight,ElementName=sfTreeView}" />
                </DataTemplate>
            </syncfusion:SfTreeView.EditTemplate>
        </syncfusion:SfTreeView>
    </Grid>
</Page>
